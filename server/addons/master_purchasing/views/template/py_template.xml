<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <template id='PythonTemplate' name='Python Template'>
    <t t-call='website.layout'>
      <div class='container'>
        <div class='row py-5'>
          <div class='col'>
            <h1>QWEB Template</h1>
            <br/>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="basic-tab" data-bs-toggle="tab" 
                        data-bs-target="#basic-tab-pane" 
                        type="button" role="tab" aria-controls="basic-tab-pane" aria-selected="true">Basic
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="attribute-tab" data-bs-toggle="tab" 
                        data-bs-target="#attribute-tab-pane" 
                        type="button" role="tab" aria-controls="attribute-tab-pane" aria-selected="true">Attribute
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="subtemplates-tab" data-bs-toggle="tab" 
                        data-bs-target="#subtemplates-tab-pane" 
                        type="button" role="tab" aria-controls="subtemplates-tab-pane" aria-selected="true">Subtemplates
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="security-tab" data-bs-toggle="tab" 
                        data-bs-target="#security-tab-pane" 
                        type="button" role="tab" aria-controls="security-tab-pane" aria-selected="true">security
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="cache-tab" data-bs-toggle="tab" 
                        data-bs-target="#cache-tab-pane" 
                        type="button" role="tab" aria-controls="cache-tab-pane" aria-selected="true">Cache / No Cache
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="inheritance-tab" data-bs-toggle="tab" 
                        data-bs-target="#inheritance-tab-pane" 
                        type="button" role="tab" aria-controls="inheritance-tab-pane" aria-selected="true">Inheritance
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="javascript-tab" data-bs-toggle="tab" 
                        data-bs-target="#javascript-tab-pane" 
                        type="button" role="tab" aria-controls="javascript-tab-pane" aria-selected="true">Javascript
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="owl-tab" data-bs-toggle="tab" 
                        data-bs-target="#owl-tab-pane" 
                        type="button" role="tab" aria-controls="owl-tab-pane" aria-selected="true">Owl
                </button>
              </li>
            </ul>


            <div class="tab-content" id="myTabContent">
              <!-- Basics -->
              <div class="tab-pane fade show" id="basic-tab-pane" role="tabpanel" 
                   aria-labelledby="basic-tab" tabindex="0">
                <h3 class='py-3'>Data Output</h3>
                <table class='table table-striped table-sm border'>
                  <tbody>
                    <tr>
                      <th>String</th>
                      <td> <span t-out="string"/> </td>
                    </tr>
                    <tr>
                      <th>Integer</th>
                      <td> <span t-out="integer"/> </td>
                    </tr>
                    <tr>
                      <th>Float</th>
                      <td> <span t-out="some_float"/> </td>
                    </tr>
                    <tr>
                      <th>List</th>
                      <td> <span t-out="some_list"/> </td>
                    </tr>
                    <tr>
                      <th>List Item</th>
                      <td> <span t-out="some_list[0]"/> </td>
                    </tr>
                    <tr>
                      <th>Dictionary</th>
                      <td> <span t-out="some_dict"/> </td>
                    </tr>
                    <tr>
                      <th>Dictionary Item</th>
                      <td> this is the key: <span t-out="some_dict['any_key']"/> </td>
                    </tr>
                    <tr>
                      <th>Function</th>
                      <td> <span t-out="some_function" /> </td>
                    </tr>
                    <tr>
                      <th>Python Object eg. Datetime</th>
                      <td> <span t-out="datetime.datetime.now()" /> </td>
                    </tr>
                    <tr>
                      <th>Model</th>
                      <td> <span t-out="model" /> </td>
                    </tr>
                    <tr>
                      <th>Model Fields</th>
                      <td>
                        <t t-foreach="model" t-as="order">
                          <t t-esc="order.item.item"/>, 
                        </t>
                      </td>
                    </tr>
                    <tr>
                      <th>Editable Model Field</th>
                      <td> <span t-field="model[0].item" /> </td>
                    </tr>
                    <tr>
                      <th>Model Field with Option</th>
                      <td> <span 
                              t-field="model[0].status"
                              t-option="{'draft':'Draft', 'confirmed':'Confirmed', 'canceled':'Canceled'}"/>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <h3 class="py-3">Setting variable</h3>
                <t t-set="string_value" t-value="'Some Variable'" />
                <t t-set="string_literals_value" t-valuef="Some Literal Variable - {{ string }} " />
                <t t-set="expression_value" t-value="1+1" />
                <t t-set="python_object_value" t-value="datetime.datetime.now()"/>
                <t t-set="from_controller_value" t-value="model"/>
                <t t-set="html_value">
                  <div class="alert alert-info">
                    <h3>This is an HTML Value</h3>
                    <p>Add any text here...</p>
                  </div>
                </t>
                <table class='table table-striped table-sm border'>
                  <tbody>
                    <tr>
                      <th>String</th>
                      <td><span t-esc="string_value"/></td>
                    </tr>
                    <tr>
                      <th>String Literals</th>
                      <td><span t-esc="string_literals_value"/></td>
                    </tr>
                    <tr>
                      <th>Expression</th>
                      <td><span t-esc="expression_value"/></td>
                    </tr>
                    <tr>
                      <th>Python Object</th>
                      <td><span t-esc="python_object_value"/></td>
                    </tr>
                    <tr>
                      <th>From Controller</th>
                      <td><span t-esc="from_controller_value"/></td>
                    </tr>
                    <tr>
                      <th>HTML</th>
                      <td><span t-esc="html_value"/></td>
                    </tr>
                  </tbody>
                </table>

                <h3 class="py-3" >Conditional</h3>
                <table class="table table-striped table-sm border">
                  <tbody>
                    <tr>
                      <th>Is logged-in?</th>
                      <td>
                        <span t-if="request.session.uid">Yes</span>
                        <span t-else="">No</span>
                      </td>
                    </tr>
                    <tr>
                      <th>Multiple Conditions</th>
                      <td>
                        <span t-if="user_id.login == 'public'">Public User</span>
                        <span t-elif="user_id.login == 'admin'">Admin User</span>
                        <span t-elif="user_id.login == 'portal'">Portal User</span>
                        <span t-else="" > Other User </span>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <h3 class="py-3">Looping</h3>
                <table class="table table-striped table-sm border">
                  <tbody>

                    <tr>
                      <th>Static</th>
                      <td>
                        <ul>
                          <li t-foreach="[1,2,3]" t-as="number">
                            <span t-out="number"/>
                          </li>
                        </ul>
                      </td>
                    </tr>

                    <tr>
                      <th>Function</th>
                      <td>
                        <ul>
                          <li t-foreach="range(3)" t-as="number">
                            <span t-out="number"/>
                          </li>
                        </ul>
                      </td>
                    </tr>

                    <tr>
                      <th>More Functions</th>
                      <td>
                        <ul>
                          <t t-set="list_length" t-value="0"/>
                          <li t-foreach="range(10)" t-as="number">
                            <span t-out="number_index + 1"/>
                            <span class="text-success" t-if="number_first">First Element</span>
                            <span class="text-success" t-if="number_last">Last Element</span>
                            <span t-if="number_odd">Odd Element</span>
                            <span class="text-muted" t-if="number_even">Even Element</span>
                            <t t-set="list_length" t-value="number_size"/>
                          </li>
                        </ul>
                        <p>List Length: <span t-out="list_length"/></p>
                      </td>
                    </tr>

                    <tr>
                      <th>Model</th>
                      <td>
                        <ul>
                          <li t-foreach="model" t-as="field">
                            <span t-out="field.item.item"/>
                          </li>
                        </ul>
                      </td>
                    </tr>

                  </tbody>
                </table>

              </div>

              <!-- Attributes -->
              <div class="tab-pane fade show" id="attribute-tab-pane" role="tabpanel" 
              aria-labelledby="attribute-tab" tabindex="0">
              <h3 class="py-3">Attributes</h3>  
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Expression</th>
                    <td>
                      <p>Website:
                        <a t-att-href="user_id.partner_id.website">
                          <span t-esc="user_id.partner_id.website"/>
                        </a>
                      </p>
                      <p>Email:
                        <a t-att-href="'mailto:%s' % user_id.partner_id.email">
                          <span t-esc="user_id.partner_id.email"/>
                        </a>
                      </p>
                    </td>
                  </tr>

                  <tr>
                    <th>Literals</th>
                    <td>
                      <p>Email:
                        <a t-attf-href="mailto:{{ user_id.partner_id.email }}">
                          <span t-esc="user_id.partner_id.email"/>
                        </a>
                      </p>
                      <p>Email:
                        <a t-attf-href="mailto:#{ user_id.partner_id.email }">
                          <span t-esc="user_id.partner_id.email"/>
                        </a>
                      </p>
                      <button t-attf-class="btn {{ 'btn-info' if request.session.uid else 'btn-danger' }}">
                        Status
                      </button>                
                    </td>
                  </tr>

                  <tr>
                    <th>Mapping</th>
                    <td>
                      <p>
                        Website:
                        <a t-att="{
                          'href': user_id.partner_id.website,
                          'title': '%s Website' % user_id.partner_id.name
                        }" >
                          <span t-out="user_id.partner_id.website"/>
                        </a>
                      </p>
                    </td>
                  </tr>

                  <tr>
                    <th>Pairing</th>
                    <td>
                      <div class="form-check">
                        <input 
                          class="form-check-input" 
                          type="checkbox" 
                          value="" 
                          id="flexCheckDefault" 
                          disabled="disabled" 
                          t-att="[('checked' if request.session.uid else ''), 'checked']"/>
                        <label class="form-check-label" for="flexCheckDefault">
                          Is logged-in?
                        </label>
                      </div>
                    </td>
                  </tr>
                  
                </tbody>
              </table>
              </div>

              <!-- Sub-template -->
              <div class="tab-pane fade show" id="subtemplates-tab-pane" role="tabpanel"
              aria-labelledby="subtemplates-tab" tabindex="0">
              <h3 class="py-3">Subtemplate</h3>
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Static Template</th>
                    <td>
                      <t t-call="master_purchasing.static_template"/>
                    </td>
                  </tr>

                  <tr>
                    <th>Dynamic Template</th>
                    <td>
                      <t t-set="article_title" t-valuef="Global variable"/>
                      <t t-call="master_purchasing.dynamic_template"/>
                      <br/>
                      <t t-call="master_purchasing.dynamic_template">
                        <t t-set="article_title" t-valuef="Scoped Variable"/>
                      </t>  
                    </td>
                  </tr>

                  <tr>
                    <th>passing Children Elements</th>
                    <td>
                      <t t-call="master_purchasing.dynamic_template">
                        <t t-set="article_title" t-valuef="Scoped Variable"/>
                        <p>
                          This is a content as a children elements.<br/>
                          <small>Date: November 2024</small>
                        </p>
                        <t t-call="master_purchasing.static_template"/>
                        <br/>
                      </t>  
                    </td>
                  </tr>

                  <tr>
                    <th>Mimic Owl Slots</th>
                    <td>
                      <t t-call="master_purchasing.slot_template">

                        <t t-set="article_body">
                          <p>
                            This is a content as a children elements.<br/>
                            <small>Date: November 2024</small>
                          </p>
                          <t t-call="master_purchasing.static_template"/><br/>
                        </t>

                        <t t-set="article_button">
                          <button class="btn btn-sm btn-primary">Learn More</button>
                          <button class="btn btn-sm btn-secondary">Learn More</button>
                        </t>

                        <t t-set="article_title" t-valuef="Scoped Variabe"/>

                        <p class="text-warning">Any default content</p>
                        <br/>
                      </t>  
                    </td>
                  </tr>

                </tbody>
              </table>
              </div>

              <!-- Security -->
              <div class="tab-pane fade show" id="security-tab-pane" role="tabpanel"
              aria-labelledby="security-tab" tabindex="0">
              <h3 class="py-3">Security</h3>
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Using Group</th>
                    <td>
                      <div t-groups="base.group_system" class="alert alert-danger">
                        <h4>For Administrator Only</h4>
                      </div>
                      <div>
                        For Public User
                      </div>
                    </td>
                  </tr>

                  <tr>
                    <th>Using Escape</th>
                    <td>
                      <t t-out="html"/>
                    </td>
                  </tr>

                  <tr>
                    <th>Not Using Escape</th>
                    <td>
                      <t t-raw="html"/>
                    </td>
                  </tr>

                  <tr>
                    <th>html_escape</th>
                    <td>
                      <t t-raw="html_escape"/>
                    </td>
                  </tr>

                  <tr>
                    <th>html_sanitize</th>
                    <td>
                      <t t-raw="html_sanitize"/>
                    </td>
                  </tr>
                  
                  <tr>
                    <th>Markup</th>
                    <td>
                      <t t-out="markup"/> 
                      <br/>
                      <t t-out="str(markup)"/>
                    </td>
                  </tr>

                </tbody>
              </table>
              </div> 

              <!-- Cache/No Cache -->
              <div class="tab-pane fade show" id="cache-tab-pane" role="tabpanel"
              aria-labelledby="cache-tab" tabindex="0">
              <h3 class="py-3">Cache/No Cache</h3>
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Models</th>
                    <td>
                      <h4>Sales Order</h4>
                      <ul>
                        <t t-foreach="model" t-as="order">
                          <li t-cache="order">
                            <strong t-out="order.item.item"/>
                            <small t-out="order.item_code"/>
                            <span class="badge bg-secondary" t-out="order.status"/>
                          </li>
                        </t>
                      </ul>
                    </td>
                  </tr>

                  <tr>
                    <th>Boolean</th>
                    <td t-cache="'cache the element' if not request.session.uid else False">
                      <h4>
                        Sales Order Count <span class="badge bg-success" t-out="len(model)"/>
                      </h4>
                    </td>
                  </tr>

                  <tr>
                    <th>No cache</th>
                    <td>
                      <t t-set="template_variable" t-value="10"/>
                      <div t-cache="any_value">
                        <h4> Sales Order Count
                          <span t-nocache="add any text" class="badge bg-success" t-out="len(model)"/>
                        </h4>
                        <p t-nocache="">Template Variable<span t-out="template_variable"/></p>
                        <t t-set="template_variable" t-value="1000"/>
                        <p t-nocache="" t-nocache-cached_template_variable="template_variable">
                          <span t-out="cached_template_variable"/>
                          <strong t-out="cached_template_variable + 5"/>
                        </p>
                      </div>

                      <p><b>Template Variable <span t-out="template_variable"/></b></p>
                    </td>
                  </tr>

                </tbody>
              </table>
              </div>

              <!-- Inheritance -->
              <div class="tab-pane fade show" id="inheritance-tab-pane" role="tabpanel"
              aria-labelledby="inheritance-tab" tabindex="0">
              <h3 class="py-3">Inheritance</h3>
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Main Template</th>
                    <td>
                      <t t-call="master_purchasing.main_template"/>
                    </td>
                  </tr>

                  <tr>
                    <th>Extended Main Template</th>
                    <td>
                      <t t-call="master_purchasing.main_template_inherited"/>
                    </td>
                  </tr>

                  <tr>
                    <th>Main Template Child</th>
                    <td>
                      <t t-call="master_purchasing.main_template_child"/>
                    </td>
                  </tr>

                </tbody>
              </table>
              </div>

              <!-- Javascript -->
              <div class="tab-pane fade show" id="javascript-tab-pane" role="tabpanel"
              aria-labelledby="javascript-tab" tabindex="0">
              <h3 class="py-3">Javascript</h3>
              <table class="table table-striped table-sm border">
                <tbody>

                  <tr>
                    <th>Render template from public widget</th>
                    <td><div class="js_template"/></td>
                  </tr>

                  <tr>
                    <th>Date Output, Variable, Looping</th>
                    <td><div class="js_tmp_with_variables"/></td>
                  </tr>

                  <tr>
                    <th>Template Inheritance</th>
                    <td>
                      <p>Template Extension</p>
                      <div class="js_template_extension"/>
                      <p>Child template</p>
                      <div class="js_template_primary"/>
                    </td>
                  </tr>

                  <tr>
                    <th>Sub-Template</th>
                    <td><div class="js_sub_template" /></td>
                  </tr>

                  <tr>
                    <th>Template with events</th>
                    <td>
                      <div class="js_template_with_events"/>

                      <div class="alert alert-primary" id="betterForSeo">
                        <h3>Template with Events</h3>
                        <p>Counter <span id="counter">0</span></p>
                        <button class="btn btn-info">Increase Counter</button>
                      </div>
                    </td>
                  </tr>

                </tbody>
              </table>
              </div>

              <!-- OWL -->
              <div class="tab-pane fade show" id="owl-tab-pane" role="tabpanel"
              aria-labelledby="owl-tab" tabindex="0">
              <h3 class="py-3">Owl</h3>
              <table class="table table-striped table-sm border">
                <tbody>
                  <tr>
                    <th>Template Using Owl</th>
                    <td>
                      <div class="js_template_owl"/>
                      <!-- <div class="js_template_owl"/> -->
                    </td>
                  </tr>
                  <tr>
                    <th>Owl template with data</th>
                    <td>
                      <div class="owl_template_data" />
                    </td>
                  </tr>
                </tbody>
              </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </t>
  </template>

  <template id="static_template" name="Static Template">
    <div class="alert alert-info">
      This is a static template.
    </div>
  </template>

  <template id="dynamic_template" name="Dynamic Template">
    <article class="bg-light p-3 border shadow">
      <h3 t-out="article_title"/>
      <p class="text-muted"><small>This is a dynamic template</small></p>
      <t t-out="0"/>
      <button class="btn btn-sm btn-primary">Learn More</button>
    </article>
  </template>

  <template id="slot_template" name="Slot Template">
    <article class="bg-light p-3 border shadow">
      <t t-out="article_title"/>
      <t t-out="article_body" />
      <t t-out="0"/>
      <t t-out="article_button"/>
    </article>
  </template>

  <template id="main_template" name="Main Template">
    <div class="alert alert-info">
      <h3>This is the main template.</h3>
    </div>
  </template>

  <!-- this template is affecting the main template -->
  <template id="main_template_inherited" inherit_id="main_template" name="Extension Template">
    <!-- position="inside,before,after,attributes" -->
    <xpath expr="div/h3" position="inside">
      <small>Adding a new element inside the title.</small>
    </xpath>
    <xpath expr="div/h3" position="before">
      <small>Adding a new element before the title.</small>
    </xpath>
    <!-- double slash so it will search any h3 in any node -->
    <xpath expr="//h3" position="after">
      <small>Adding a new element after the title.</small>
    </xpath>
  </template>

  <template id="main_template_child" inherit_id="main_template" name="Child Template" primary="True">
    <xpath expr="div" position="attributes">
      <attribute name="class" add="alert-success" remove="alert-info" separator=" "/>
      <attribute name="style">border: 1px solid red;</attribute>
    </xpath>
  </template>

  <template id="inherit_portal_my_home" inherit_id="portal.portal_my_home">
    <xpath expr="//div[hasclass('o_portal_my_home')]" position="inside">
      <div class="js_template_owl mt-5"/>
    </xpath>
  </template>

  <template id="my_owl_app" name="Owl App">
    <html>
      <head>
        <t t-call-assets="my_owl_app.assets"/>
      </head>
      <body>
        <div>
          <h2>Selamat Datang di Halaman Baru!</h2>
          <p>Ini adalah contoh halaman yang dibuat dengan OWL di Odoo.</p><br/>

          <div id="owl_wrap" class="container">
            
          </div>  

        </div>
      </body>
    </html>
  </template>

</odoo>